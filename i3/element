#!/bin/bash

DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" >/dev/null && pwd )"

killall -q conky polybar dunst redshift
pkill -f dropdown_calculator
pkill -f dropdown_terminal

# CONKY
# while pgrep -x conky >/dev/null; do sleep 1; done
# conky &

# REDSHIFT
redshift &

# POLYBAR
while pgrep -x polybar >/dev/null; do sleep 1; done
for m in $(polybar --list-monitors | cut -d":" -f1); do
	MONITOR=$m polybar --reload top &
done

# CALCULATOR
while pgrep -f dropdown_calculator >/dev/null; do sleep 1; done
"$DIR/dropdown/calculator" &

# TERMINAL
while pgrep -f dropdown_terminal >/dev/null; do sleep 1; done
"$DIR/dropdown/terminal" &
